procs:
  start-docker:
    shell: docker compose up
  stop-docker-clear-data:
    shell: docker compose down && echo 'Removing fm dirs' && sudo rm -rf fm_* && echo 'Done'
    autostart: false
  stop-docker-retain-data:
    shell: docker compose down
    autostart: false
  guardian-ui-1:
    cwd: apps/guardian-ui/
    shell: yarn dev
    env:
      PORT: '3000'
      REACT_APP_FM_CONFIG_API: ws://127.0.0.1:18174
      BROWSER: none
  guardian-ui-2:
    cwd: apps/guardian-ui/
    shell: yarn dev
    env:
      PORT: '3001'
      REACT_APP_FM_CONFIG_API: ws://127.0.0.1:18184
      BROWSER: none
  gateway-ui:
    cwd: apps/gateway-ui/
    shell: yarn dev
    env:
      PORT: '3002'
      REACT_APP_FM_GATEWAY_API: 'http://127.0.0.1:8175'
      BROWSER: none
  fedimintd_1-logs:
    shell: sleep 2 && docker logs -f ui-fedimintd_1-1
  gatewayd_1-logs:
    shell: sleep 2 && docker logs -f ui-gatewayd_1-1
  lnd_1-logs:
    shell: sleep 2 && docker logs -f ui-lnd_1-1
  fedimintd_2-logs:
    shell: sleep 2 && docker logs -f ui-fedimintd_2-1
  gatewayd_2-logs:
    shell: sleep 2 && docker logs -f ui-gatewayd_2-1
  bitcoind-logs:
    shell: sleep 1 && docker logs -f ui-bitcoind-1
  bitcoind-init:
    shell: misc/scripts/init-bitcoind.sh
  generate-blocks:
    shell: misc/scripts/generate-blocks.sh
